<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>H4E - Horror4Ever</title>
  </head>
  <body>
    <header>
      <!-- Logo Hover Effect Container -->
      <div class="logo-hover-container">
        <video src="images/H4E-loop-logo.mp4" alt="Ornate spooky doorway with text Horror 4 Ever, Dare to Enter?" class="hero-logo" autoplay loop muted playsinline></video>
        <img src="images/fire-elmo.gif" alt="Horror4Ever Logo Hover" class="hover-gif" />
        <audio id="logo-hover-audio" src="images/vincent_price_laugh.mp3"></audio>
      </div>
      <p class="tagline">Horror never dies...and neither do the fans!</p>
    </header>

    <main class="container">
      <!-- Feature Cards Section -->
      <div class="features-grid">
        <div class="card">
          <h2 class="secondary-headline">FUN</h2>
          <p>Shall we play a game?</p>
          <button onclick="triggerGhostTransition('./under-construction.html')" class="btn">I Dare You!</button>
        </div>
        <div class="card">
          <h2 class="secondary-headline">MOVIES</h2>
          <p>What to watch next!?</p>
          <button onclick="triggerGhostTransition('./under-construction.html')" class="btn">View Picks</button>
        </div>
        <div class="card">
          <h2 class="secondary-headline">ARTICLES</h2>
          <p>Deep Thoughts</p>
          <button onclick="triggerGhostTransition('./under-construction.html')" class="btn">Dive in!</button>
        </div>
        <div class="card">
          <h2 class="secondary-headline">STORE</h2>
          <button onclick="triggerGhostTransition('./under-construction.html')" class="btn">BUY STUFF!</button>
        </div>
      </div>
    </main>
    <div class="support-about-row">
      <a href="https://ko-fi.com/YOUR_KOFI_USERNAME" class="btn" target="_blank" rel="noopener noreferrer" aria-label="Support us on Ko-fi">Support Us on Ko-fi</a>
      <a href="about.html" class="btn" aria-label="About Us">About Us</a>
      <!-- Placeholder: Add more info or buttons here as needed -->
    </div>
    <div id="ghost-overlay">
      <img src="images/ghost-swipe-cropped.png" alt="Ghost swipe animation" />
    </div>
    <script src="ghost-transition.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      const container = document.querySelector('.logo-hover-container');
      const audio = document.getElementById('logo-hover-audio');
      if (container && audio) {
        container.addEventListener('mouseenter', () => {
          audio.currentTime = 0;
          audio.play();
        });
        container.addEventListener('mouseleave', () => {
          audio.pause();
          audio.currentTime = 0;
        });
      }

      // Meme popup logic
      const memeBtn = document.getElementById('meme-btn');
      const memeModal = document.getElementById('meme-modal');
      const memeImg = document.getElementById('meme-img');
      const memeClose = document.getElementById('meme-modal-close');
      // TODO: Replace with your actual meme filenames
      const memes = [
        'fire-elmo.gif',
        'under-construction-skeleton.png',
        'h4e-logo-no-bg.png',
        '3D pumpkin no bg.png'
      ];
      memeBtn.addEventListener('click', function() {
        const randomMeme = memes[Math.floor(Math.random() * memes.length)];
        memeImg.src = 'images/' + randomMeme;
        memeImg.alt = 'Random meme';
        memeModal.style.display = 'flex';
        memeClose.focus();
      });
      memeClose.addEventListener('click', function() {
        memeModal.style.display = 'none';
        memeImg.src = '';
      });
      memeModal.addEventListener('click', function(e) {
        if (e.target === memeModal) {
          memeModal.style.display = 'none';
          memeImg.src = '';
        }
      });
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && memeModal.style.display === 'flex') {
          memeModal.style.display = 'none';
          memeImg.src = '';
        }
      });
    });
    </script>
    <button class="floating-meme-btn" id="meme-btn" aria-label="Show a random meme">
      <img src="images/3D pumpkin no bg.png" alt="Show a random meme" />
    </button>
    <div id="meme-modal" class="meme-modal" style="display:none;">
      <div class="meme-modal-content">
        <button class="meme-modal-close" id="meme-modal-close" aria-label="Close meme">&times;</button>
        <img id="meme-img" src="" alt="Random meme" />
      </div>
    </div>
  </body>
</html>
